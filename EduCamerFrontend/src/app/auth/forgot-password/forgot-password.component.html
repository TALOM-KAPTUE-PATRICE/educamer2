<div class="auth-wrapper">
  <div class="auth-container">
    <div class="illustration-panel">
      <img src="assets/auth/forgot-password.svg" alt="Illustration mot de passe oublié">
    </div>
    <div class="form-panel">
      <mat-card class="auth-card">
        
        <div class="logo-container">
          <h1 class="app-logo-text">EduCamer</h1>
        </div>

        <mat-card-header class="auth-card-header">
          <mat-card-title>Mot de passe oublié ?</mat-card-title>
          <mat-card-subtitle>Pas de souci. Entrez votre email et nous vous enverrons un lien pour le réinitialiser.</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div *ngIf="!isSubmitted">
            <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Adresse Email</mat-label>
                <input matInput formControlName="email" type="email" required cdkFocusInitial>
              </mat-form-field>
              
              <button mat-raised-button color="primary" type="submit" [disabled]="forgotPasswordForm.invalid || isSubmitting" class="submit-button">
                <div *ngIf="!isSubmitting; else sending">Envoyer le lien</div>
                <ng-template #sending>
                  <div class="spinner-container">
                    <mat-spinner diameter="24"></mat-spinner>
                    <span>Envoi...</span>
                  </div>
                </ng-template>
              </button>
            </form>
          </div>
          
          <div *ngIf="isSubmitted" class="success-message">
            <mat-icon color="primary">mark_email_read</mat-icon>
            <h2>Vérifiez votre boîte mail</h2>
            <p>Si un compte est associé à <strong>{{ forgotPasswordForm.value.email }}</strong>, vous recevrez un email d'ici quelques minutes.</p>
          </div>
          
          <a routerLink="/auth" class="back-link">Retour à la connexion</a>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>