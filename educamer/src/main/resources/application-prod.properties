# Configuration pour la base de données PostgreSQL sur Render

# ▼▼▼ CORRECTION DÉFINITIVE ▼▼▼
# On construit l'URL JDBC proprement, sans les identifiants dedans.
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}

# On fournit les identifiants séparément. C'est la méthode la plus robuste.
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}

# Le reste de votre configuration est parfait
spring.jpa.hibernate.ddl-auto=validate
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Désactiver l'initialisation de l'admin en production
# admin.bootstrap.enabled=true

# Le port est défini par Render, mais on peut le garder pour la clarté
server.port=${PORT:8081}